<ui:composition  template = "../../templates/mastertemplate.xhtml" 
                 xmlns = "http://www.w3.org/1999/xhtml" 
                 xmlns:b="http://bootsfaces.net/ui"
                 xmlns:f = "http://java.sun.com/jsf/core" 
                 xmlns:h = "http://java.sun.com/jsf/html" 
                 xmlns:ui = "http://java.sun.com/jsf/facelets" 
                 xmlns:p="http://primefaces.org/ui"> 
    <ui:define  name = "title" > Seguribox LTV </ui:define> 
    <ui:define  name = "content" > 

        <h:body>

            <div id="mainContent">
                <div class="container-fluid " style="margin-top:30px">
                    <div class="row">
                        <div class="col-md-12 visible-md visible-lg visible-sm">
                            <div class="pull-right">
                                <button onclick="location.href = 'adminGroup.jsf'" type="button" class="btn btn-primary">Agregar grupo</button>
                            </div>
                        </div>
                        <div class="col-xs-12 visible-xs">
                            <div class="pull-right">
                                <button onclick="location.href = 'adminGroup.jsf'" type="button" class="btn btn-primary">Agregar grupo</button>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="container-fluid" style="margin-top:30px">
                    <div class="row">
                        <div class="col-md-2"></div>
                        <div class="col-md-8">
                            <div class="panel panel-default">
                                <div class="panel-heading text-center">
                                    <h3><strong>Grupos</strong></h3>
                                </div>
                                <h:form>
                                    <div class="panel-body">
                                        <div class="table-responsive">

                                            <b:dataTable value="#{groupBean.groups}" var="item" responsive="true" lang="es" fixedHeader="true" scroll-size="400px" >
                                                <b:dataTableColumn label="ID Grupo">#{item.groupId}</b:dataTableColumn>
                                                <b:dataTableColumn label="Nombre del Grupo">#{item.groupName}</b:dataTableColumn>
                                                <b:dataTableColumn order="asc" label="Descripcioón">#{item.description}</b:dataTableColumn>
                                                <b:dataTableColumn label="Activo">#{item.isActive}</b:dataTableColumn>
                                                <h:column >
                                                    <f:facet name="header">
                                                        <h:outputText value="Editar"></h:outputText>
                                                    </f:facet>
                                                    <b:commandButton  value="" action="#{groupBean.goToEdit(item)}" style="padding: 0; border: none; background: none;color: #000" styleClass="center-block">
                                                        <b:iconAwesome name="edit" styleClass="text-primary"></b:iconAwesome>

                                                    </b:commandButton>
                                                </h:column>
                                                <h:column >
                                                    <f:facet name="header">
                                                        <h:outputText value="Eliminar"></h:outputText>
                                                    </f:facet>
                                                    
                                                    <p:commandButton value=""  actionListener="#{groupBean.delete(item)}" style="padding: 0; border: none; background: none;color: #000;box-shadow: none" styleClass="center-block text-primary glyphicon glyphicon-zoom-in" update="@form">
                                                        
                                                        <p:confirm header="Confirmación" message="Estas Seguro que quieres eliminar #{item.groupName}?" icon="ui-icon-alert" />
                                                    </p:commandButton>
                                                </h:column>


                                            </b:dataTable>

                                        </div>
                                    </div>
                                    <p:growl id="message" showDetail="true" />

                                            

                                            <p:confirmDialog global="true" showEffect="fade" hideEffect="fade">
                                                <p:commandButton value="Si" type="button" styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
                                                <p:commandButton value="No" type="button" styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
                                            </p:confirmDialog>
                                </h:form>
                            </div>
                        </div>
                        <div class="col-md-2"></div>   
                    </div>
                </div>
                <div class="container-fluid" style="margin-top:30px">
                    <div class="row">
                        <!-- Button trigger modal -->
                        <!-- Modal -->
                        <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header  text-center">
                                        <h4 class="modal-title" id="myModalLabel">A V I S O</h4>
                                    </div>
                                    <div class="modal-body">
                                        El grupo <strong>Administradores reportes</strong> va a ser eliminado!
                                    </div>
                                    <div class="modal-footer">
                                        <a type="button" class="btn btn-default" href="AdminHSMKeys.html">Cerrar</a>
                                        <a type="button" class="btn btn-primary" href="AdminGroups.html">Aceptar</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </h:body>

    </ui:define> 
</ui:composition>
